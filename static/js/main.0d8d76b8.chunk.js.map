{"version":3,"sources":["components/Loader/Loader.jsx","components/SearchBar/SearchBar.styled.jsx","components/SearchBar/SearchBar.jsx","services/api.jsx","components/ImageGallery/ImageGalleryItem.styled.jsx","components/ImageGallery/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.styled.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.styled.jsx","components/Button/Button.jsx","components/Modal/Modal.styled.jsx","components/Modal/Modal.jsx","App.js","index.js"],"names":["Spinner","type","color","height","width","timeout","Header","styled","header","Form","form","Button","button","Span","span","Input","input","SearchBar","onSubmit","e","preventDefault","target","elements","searchImage","value","toLowerCase","name","autoComplete","autoFocus","placeholder","fetchImages","page","a","axios","get","response","data","hits","Li","li","Img","img","ImageGalleryItem","image","onClick","id","webformatURL","tags","src","alt","Ul","ul","ImageGallery","images","onSelect","map","ButtonLoad","Overlay","div","ModalWindow","Modal","handleKeyDown","code","props","handleBackDrop","currentTarget","window","addEventListener","this","removeEventListener","Component","App","state","selectedImage","error","status","showModal","handleFormSubmit","setState","handleButtonLoadMore","p","handleSelectedImage","imageURL","prevState","prevProps","gallery","trim","length","toast","scrollTo","top","document","documentElement","scrollHeight","behavior","showButton","largeImageURL","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0d8d76b8.chunk.js","sourcesContent":["import Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\n\nexport default function Spinner () {\n    return (<Loader\n    type=\"Puff\"\n    color=\"#00BFFF\"\n    height={100}\n    width={100}\n    timeout={3000} \n  />)\n\n}","import styled from '@emotion/styled';\n\nexport const Header = styled.header`\ntop: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b3;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n`\n\nexport const Form = styled.form`\ndisplay: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n`\n\nexport const Button = styled.button`  \ndisplay: inline-block;\nwidth: 48px;\nheight: 48px;\nborder: 0;\nbackground-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\nbackground-size: 40%;\nbackground-repeat: no-repeat;\nbackground-position: center;\nopacity: 0.6;\ntransition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\ncursor: pointer;\noutline: none;\n&:hover{\n    opacity: 1;\n}\n`\n\nexport const Span = styled.span`\nposition: absolute;\nwidth: 1px;\nheight: 1px;\npadding: 0;\noverflow: hidden;\nclip: rect(0, 0, 0, 0);\nwhite-space: nowrap;\nclip-path: inset(50%);\nborder: 0;\n`\nexport const Input = styled.input`\ndisplay: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;}\n`\n\n","\nimport {Header, Form, Button, Span, Input} from './SearchBar.styled'\nimport PropTypes from 'prop-types';\n\n\nconst SearchBar = ({ onSubmit }) => {\n  const handleSearch = e => {\n    e.preventDefault()\n    onSubmit(e.target.elements.searchImage.value.toLowerCase())\n  }\n\n\n return (\n   <Header >\n     <Form  onSubmit={handleSearch} >\n    <Button type=\"submit\">\n      <Span>Search</Span>\n    </Button>\n\n    <Input\n         type=\"text\"\n         name='searchImage'\n       autoComplete=\"off\"\n     autoFocus\n     placeholder=\"Search images and photos\"\n   />\n </Form>\n</Header>\n )\n}\n\nexport default SearchBar\n\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\n","import axios from 'axios';\n\nexport const fetchImages = async (name, page) => {\n    const response = await axios.get(`https://pixabay.com/api/?q=${name}&page=${page}&key=22578117-98ddcf36fbc3d0da8c48aeee6&image_type=photo&orientation=horizontal&per_page=12`)\n  \n    return response.data.hits;\n  }","import styled from '@emotion/styled';\nexport const Li = styled.li`\nborder-radius: 2px;\nbox-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n  0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n`\n\nexport const Img = styled.img`\nwidth: 100%;\n  height: 260px;\n  object-fit: cover;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover{\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n`","import {Li, Img} from './ImageGalleryItem.styled'\nimport PropTypes from 'prop-types';\n\nexport default function ImageGalleryItem ({image, onClick}) {\n    const {id,webformatURL, tags} = image;\n    return (\n    <Li onClick={onClick} key={id}>\n  <Img src={webformatURL} alt={tags}/>\n</Li>\n)\n}\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.object.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n","import styled from '@emotion/styled';\nexport const Ul = styled.ul`\ndisplay: grid;\nmax-width: calc(100vw - 48px);\ngrid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\ngrid-gap: 16px;\nmargin-top: 0;\nmargin-bottom: 0;\npadding: 0;\nlist-style: none;\nmargin-left: auto;\nmargin-right: auto;\n`","import ImageGalleryItem from '../ImageGallery/ImageGalleryItem';\nimport PropTypes from 'prop-types';\nimport {Ul} from './ImageGallery.styled'\n\nconst ImageGallery = ({images, onSelect}) =>  {\n    return (\n        <Ul>\n            {images.map((image,id) => (\n                <ImageGalleryItem key = {id} image={image} \n                onClick={() => onSelect(image)}\n                />)\n                )}  \n           </Ul>)}\n             \nexport default ImageGallery;\n\n\nImageGallery.propTypes = {\n    images: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.string,\n        images: PropTypes.object,\n      }),\n    ),\n    onSelect: PropTypes.func.isRequired,\n  };","import styled from '@emotion/styled';\n\nexport const ButtonLoad = styled.button`\ndisplay: block;\nmargin-left: auto;\nmargin-right: auto;\nmargin-top: 20px;\nmargin-bottom: 20px;\npadding: 8px 16px;\nborder-radius: 5px;\nbackground-color: #3f51b5;\ntransition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\ntext-align: center;\ncolor: #fff;\nborder: 0;\ntext-decoration: none;\ncursor: pointer;\nfont-family: inherit;\nfont-size: 18px;\nline-height: 24px;\nfont-style: normal;\nfont-weight: 500;\nmin-width: 180px;\nbox-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n  0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n  &:hover,\n  &:focus{\n    background-color: #303f9f;\n  }\n`","import PropTypes from 'prop-types';\nimport { ButtonLoad } from \"./Button.styled\"\n\nexport default function Button ({onClick}) {\n    return ( <ButtonLoad type=\"button\" onClick={onClick}>Load more...</ButtonLoad>\n        )\n    }\n\n\n    Button.propTypes = {\n        onClick: PropTypes.func.isRequired,\n      };","import styled from '@emotion/styled';\n\nexport const Overlay = styled.div`\nposition: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1200;\n`\n\nexport const ModalWindow = styled.div`\nmax-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n`","import { Component } from 'react';\nimport { Overlay, ModalWindow } from \"./Modal.styled\";\nimport PropTypes from 'prop-types';\n\n\nexport default class Modal extends Component {\n    componentDidMount() {\n      window.addEventListener('keydown', this.handleKeyDown);\n    }\n  \n    componentWillUnmount() {\n      window.removeEventListener('keydown', this.handleKeyDown);\n    }\n  \n    handleKeyDown = e => {\n      if (e.code === 'Escape') {\n        this.props.onSelect();\n      }\n    };\n  \n    handleBackDrop = e => {\n      if (e.currentTarget === e.target) {\n        this.props.onSelect();\n      }\n    };\n  \n    render() {\n      const { src, alt } = this.props;\n     return (\n        <Overlay onClick={this.handleBackDrop}>\n          <ModalWindow>\n            <img src={src} alt={alt} />\n          </ModalWindow>\n        </Overlay>\n    \n      );\n    }\n  }\n\n  Modal.propTypes = {\n    src: PropTypes.string.isRequired,\n    alt: PropTypes.string,\n  };","import {Component} from 'react';\nimport Spinner from './components/Loader/Loader';\nimport toast, { Toaster } from 'react-hot-toast';\n\nimport SearchBar from './components/SearchBar/SearchBar';\nimport {fetchImages} from './services/api'\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\n\nexport default class App extends Component {\n  state = {\n    selectedImage: null,\n    searchImage: null,\n    images: [],\n    page: 1,\n    error: null,\n    status: 'idle',\n    showModal: false,\n  };\n  \n\n\n\n  async componentDidUpdate (prevProps, prevState) {\nconst {searchImage, page} = this.state;\n\n        if (prevState.searchImage !== searchImage || prevState.page !== page){        \n         try{\n          this.setState({status: 'pending'})\n         const gallery = await fetchImages(searchImage, page)\n         \n         this.setState({status: 'resolved'})\n\n         if(searchImage.trim() ==='' || gallery.length === 0) {\n                      return toast.error(`нет картинки с именем  ${searchImage}`)\n                  }\n\n         this.setState({images: [...this.state.images, ...gallery]});\n         window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n         }\n         catch(error){\n          this.setState({status: 'rejected'})\n          toast.error('что-то пошло не так')\n         }\n      }\n    }\n\n  handleFormSubmit = (searchImage) => {\n    this.setState({searchImage: searchImage, page: 1, images: []});\n  };\n\n\n  handleButtonLoadMore = () => {\n    this.setState(p => ({page: p.page + 1}));\n    }\n  \n    handleSelectedImage =(imageURL) => {\n      this.setState((prevState) => ({\n        showModal: !prevState.showModal,\n        selectedImage: imageURL,\n      }))}\n\nrender(){\n  const {images, status, showModal, selectedImage, } = this.state;\n  const showButton = images.length >= 1;\n  \n  return ( \n    <div>\n      <SearchBar onSubmit={this.handleFormSubmit} />\n      {status === 'pending' && <Spinner />}\n      <ImageGallery images = {images} onSelect={this.handleSelectedImage}/>\n      {showButton && <Button  onClick={this.handleButtonLoadMore}/>}\n    {showModal && <Modal src={selectedImage.largeImageURL} alt={selectedImage.tags} onSelect={this.handleSelectedImage} />}\n      <Toaster />\n    </div>\n  )\n}\n\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}